An example automation setup to use the preloading system. A basic LaTeX document is generated in three ways:

 -  without a custom format, as is usually done;
 -  with a custom format but no Lua modules preloaded; and
 -  with a custom format and all required modules preloaded.

###  Required LaTeX packages

 -  [`lipsum`](http://www.ctan.org/pkg/lipsum)
 -  [`xparse`](http://www.ctan.org/pkg/xparse)
 -  [`etoolbox`](http://www.ctan.org/pkg/etoolbox)
 -  [`multicol`](http://www.ctan.org/pkg/multicol)
 -  [`changepage`](http://www.ctan.org/pkg/changepage)
 -  [`enumitem`](http://www.ctan.org/pkg/enumitem)
 -  [`fontspec`](http://www.ctan.org/pkg/fontspec)
 -  [`microtype`](http://www.ctan.org/pkg/microtype)